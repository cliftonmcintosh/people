<h3>Create, Update, Delete and View Families</h3>
<br/>

<form class="form-horizontal" name="createForm" action="#">
  <h4>Create a Family</h4>

  <div ng-repeat="newPerson in newFamily">
    <div class="row">
      <div class="col-md-4">
        <input class="form-control" ng-model="newPerson.firstName" type="text" placeholder="First Name">
      </div>
      <div class="col-md-4">
        <input class="form-control" ng-model="newPerson.lastName" type="text" placeholder="Last Name">
      </div>
    </div>
  </div>
  <input id="another" type="button" class="btn" value="Add Another Person" ng-click="addPerson()">
  <input id="createFamily" type="button" class="btn btn-primary" value="Create Family" ng-click="createFamily()">
</form>
<br/>

<h3>View, Update and Delete Existing Families</h3>
<div ng-repeat="family in families">
  <h4>A Family of {{ family.people.length }}</h4>

  <form>
    <table class="table table-striped table-condensed">
      <tbody>
      <tr ng-repeat="person in family.people | orderBy:'lastName'">
        <td>{{ person.firstName}}</td>
        <td>{{ person.lastName}}</td>
        <td><input id="remove" type="button" class="btn pull-right" value="Remove From Family" ng-click="removePersonFromFamily(person)"></td>
      </tr>
      <tr>
        <td><label for="peopleSelect"> Add a Person to This Family </label></td>
        <td><select class="form-control" name="peopleSelect" id="peopleSelect" ng-model="personToAdd">
          <option ng-repeat="person in people | orderBy:'lastName'" value="{{person.selfLink}}">{{person.firstName}} {{person.lastName}}</option>
        </select></td>
        <td><input id="add" type="button" class="btn pull-right" value="Add to Family" ng-click="addPersonToFamily(personToAdd, family.selfLink)"></td>
      </tr>
      <tr>
        <td colspan="2">View the API resource for this family at <a href="{{ family.selfLink }}" target="_blank">{{ family.selfLink}}</a></td>
        <td><input id="delete" type="button" class="btn btn-danger pull-right" value="Delete This Family" ng-click="deleteFamily(family)"></td>
      </tr>
      </tbody>
    </table>
  </form>
</div>

